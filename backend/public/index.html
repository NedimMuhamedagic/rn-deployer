<html>
  <head></head>
  <body>
    <div style="display: flex; justify-content: center">
      <form
        style="
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 300px;
          box-shadow: 0px 0px 3px black;
          padding: 20px;
        "
      >
        <h2 style="font-family: monospace">Enter git link</h2>
        <textarea
          type="text"
          id="repoUrl"
          name="repoUrl"
          style="
            outline: none;
            border: 1px solid orange;
            border-radius: 3px;
            font-size: 14px;
            padding: 8px 6px;
            margin: 0px;
            height: 246px;
            width: 438px;
          "
        ></textarea
        ><br />
        <input
          type="submit"
          value="Submit"
          style="
            background: green;
            color: white;
            border: none;
            padding: 5px 10px;
            font-family: monospace;
            border-radius: 3px;
          "
        />
      </form>
    </div>

    <script>
      document
        .querySelector('[type="submit"]')
        .addEventListener("click", sendRequest);
      function sendRequest(e) {
        e.preventDefault();

        const repoValue = document.querySelector("#repoUrl").value;
        window.fetch(`${window.location.origin}/doMagic`, {
          method: "post",
          headers: {
            "content-type": "application/json",
          },
          body: JSON.stringify({
            gitUrl: repoValue,
          }),
        });

        return false;
      }
    </script>
  </body>
</html>
