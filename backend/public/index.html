<!DOCTYPE html>
<html>
  <body>
    <form>
      <h2>P1</h2>
      <input type="text" id="repoUrl" name="repoUrl" /><br />
      <input type="submit" value="Submit" />
    </form>
  </body>
  <script>
    document
      .querySelector('[type="submit"]')
      .addEventListener("click", sendRequest);
    function sendRequest(e) {
      e.preventDefault();

      const repoValue = document.querySelector("#repoUrl").value;
      window.fetch(`${window.location.origin}/doMagic`, {
        method: "post",
        headers: {
          "content-type": "application/json",
        },
        body: JSON.stringify({
          gitUrl: repoValue,
        }),
      });

      return false;
    }
  </script>
</html>
